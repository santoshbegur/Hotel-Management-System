<div th:fragment="customersForm" th:if="${customer != null}">
    <div class="form-container" style="max-width: 400px;">

        <!-- Dynamic heading -->
        <h2 class="mb-2 text-primary text-center"
            th:text="${customer.id} != null ? 'Edit Customer' : 'New Customer'"></h2>

        <!-- AJAX form -->
        <form class="mt-3" onsubmit="submitForm(event, 'customers')"
              th:object="${customer}">

            <!-- Hidden ID field -->
            <input th:field="*{id}" type="hidden"/>

            <div class="mb-2">
                <label class="form-label" for="firstName">First Name</label>
                <input class="form-control" id="firstName" required
                       th:field="*{firstName}" type="text"/>
            </div>

            <div class="mb-2">
                <label class="form-label" for="lastName">Last Name</label>
                <input class="form-control" id="lastName" required
                       th:field="*{lastName}" type="text"/>
            </div>

            <div class="mb-2">
                <label class="form-label" for="email">Email</label>
                <input class="form-control" id="email" th:field="*{email}"
                       type="email"/>
            </div>

            <div class="mb-2">
                <label class="form-label" for="phone">Phone</label>
                <input class="form-control" id="phone" th:field="*{phone}"
                       type="text"/>
            </div>

            <!-- Buttons -->
            <div class="Sd-flex gap-2 mt-3">
                <!-- Save / Update button -->
                <button class="btn btn-success" type="submit">
                    <i class="bi bi-save"></i>
                    <span th:text="${customer.id != null} ? 'Update' : 'Create'"></span>
                </button>
                <!-- Back button loads the list fragment -->
                <a class="btn btn-secondary" href="#"
                   onclick="loadList('customers')">
                    <i class="bi bi-arrow-left-circle"></i>Back to Customers
                </a>
            </div>
        </form>
    </div>
</div>
