<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="en">
<head>
    <meta charset="UTF-8">
    <title th:text="${reservation.id} != null ? 'Edit Reservation' : 'New Reservation'">Reservation</title>
    <!-- CSS Styles -->
    <th:block th:replace="~{fragments/styles :: styles}"></th:block>
</head>
<body>
<div class="container mt-5">
    <h2 th:text="${reservation.id} != null ? 'Edit Reservation' : 'New Reservation'"></h2>
    <form th:object="${reservation}" method="post"
          th:action="${reservation.id} != null ? @{/reservations/reservations_list/update/{id}(id=${reservation.id})} : @{/reservations/reservations_list/create}">
        <!-- Hidden ID -->
        <input type="hidden" th:field="*{id}"/>
        <!-- Customer Dropdown -->
        <div class="mb-3">
            <label for="customer" class="form-label">Customer</label>
            <select id="customer" class="form-select" th:field="*{customer.id}">
                <option th:each="c : ${customers}"
                        th:value="${c.id}"
                        th:text="${c.firstName + ' ' + c.lastName}"
                        th:selected="${reservation.customer != null and c.id == reservation.customer.id}">
                </option>
            </select>
        </div>
        <!-- Hotel Dropdown -->
        <div class="mb-3">
            <label for="hotel" class="form-label">Hotel</label>
            <select id="hotel" class="form-select" th:field="*{hotel.id}">
                <option th:each="h : ${hotels}"
                        th:value="${h.id}"
                        th:text="${h.name}"
                        th:selected="${reservation.hotel != null and h.id == reservation.hotel.id}">
                </option>
            </select>
        </div>
        <!-- Status -->
        <div class="mb-3">
            <label for="status" class="form-label">Status</label>
            <select id="status" class="form-select" th:field="*{status}">
                <option value="BOOKED" th:selected="${reservation.status == 'BOOKED'}">Booked</option>
                <option value="CHECKED_IN" th:selected="${reservation.status == 'CHECKED_IN'}">Checked In</option>
                <option value="CHECKED_OUT" th:selected="${reservation.status == 'CHECKED_OUT'}">Checked Out</option>
                <option value="CANCELLED" th:selected="${reservation.status == 'CANCELLED'}">Cancelled</option>
            </select>
        </div>
        <!-- Check-In -->
        <div class="mb-3">
            <label for="checkIn" class="form-label">Check-In Date</label>
            <input type="date" id="checkIn" class="form-control" th:field="*{checkInDate}" />
        </div>
        <!-- Check-Out -->
        <div class="mb-3">
            <label for="checkOut" class="form-label">Check-Out Date</label>
            <input type="date" id="checkOut" class="form-control" th:field="*{checkOutDate}" />
        </div>
        <!-- Total Amount -->
        <div class="mb-3">
            <label for="totalAmount" class="form-label">Total Amount</label>
            <input type="number" step="0.01" id="totalAmount" class="form-control" th:field="*{totalAmount}"/>
        </div>
        <button type="submit" class="btn btn-primary" th:text="${reservation.id} != null ? 'Update' : 'Create'"></button>
        <a th:href="@{/reservations/reservations_list}" class="btn btn-secondary">Cancel</a>
    </form>
</div>
<!-- Scripts -->
<th:block th:replace="~{fragments/scripts :: scripts}"></th:block>
</body>
</html>
